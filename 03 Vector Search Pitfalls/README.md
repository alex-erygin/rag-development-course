# –ú–æ–¥—É–ª—å 3: –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞** –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞. –ò—Å–ø–æ–ª—å–∑—É—è UMAP –¥–ª—è –ø–æ–Ω–∏–∂–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ matplotlib –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, –º–æ–¥—É–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏ –ø–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

## –ü—Ä–æ–±–ª–µ–º–∞

–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ:

- **"–ß–µ—Ä–Ω—ã–π —è—â–∏–∫"**: –°–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –Ω–∞–π–¥–µ–Ω—ã –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥–∞–ª–µ–∫–æ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
- **–ö–∞—á–µ—Å—Ç–≤–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å**: 384-–º–µ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–ª–æ–∂–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è

## –†–µ—à–µ–Ω–∏–µ: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

–ú–æ–¥—É–ª—å —Ä–µ—à–∞–µ—Ç —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—É—Ç–µ–º:

1. **–ü–æ–Ω–∏–∂–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏**: UMAP –ø—Ä–æ–µ—Ü–∏—Ä—É–µ—Ç 384D ‚Üí 2D
2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–ª–∏–∑–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
3. **–ê–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –û–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –Ω–∞–π–¥–µ–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
4. **–í—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º**: –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
üóÑÔ∏è ChromaDB (–∏–∑ –º–æ–¥—É–ª—è 2)
    ‚Üì
üìä –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    ‚Üì
üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ‚Üì
üìê UMAP: 384D ‚Üí 2D –ø—Ä–æ–µ–∫—Ü–∏—è
    ‚Üì
üé® Matplotlib –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    ‚Üì
üìà –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
    ‚Üì
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ PNG –≥—Ä–∞—Ñ–∏–∫–æ–≤
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
03 Vector Search Pitfalls/
‚îú‚îÄ‚îÄ README.md                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ requirements.txt                    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ vector_search_pitfalls.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ vector_search_visualization_all.png     # –ì—Ä–∞—Ñ–∏–∫ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ vector_search_visualization_found.png   # –ì—Ä–∞—Ñ–∏–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª

### `vector_search_pitfalls.py`

**–ü–æ–ª–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞** —Å –∞–Ω–∞–ª–∏–∑–æ–º:

- üóÑÔ∏è **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ChromaDB**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –∏–∑ –º–æ–¥—É–ª—è 2
- üîç **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- üìä **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –≤–µ–∫—Ç–æ—Ä—ã –∏–∑ –±–∞–∑—ã
- üìê **UMAP –ø—Ä–æ–µ–∫—Ü–∏—è**: –ü–æ–Ω–∏–∂–∞–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –¥–æ 2D
- üé® **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- üìà **–ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π**: –í—ã—á–∏—Å–ª—è–µ—Ç –∏ –æ–±—ä—è—Å–Ω—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```python
# –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
umap-learn>=0.5.0         # –ü–æ–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏
matplotlib>=3.5.0         # –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
scikit-learn>=1.0.0       # –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
numpy>=1.21.0             # –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
sentence-transformers>=2.2.0  # –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
chromadb>=0.4.0           # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```

### 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–í–∞–∂–Ω–æ**: –ú–æ–¥—É–ª—å —Ç—Ä–µ–±—É–µ—Ç –≥–æ—Ç–æ–≤—É—é ChromaDB –∏–∑ –º–æ–¥—É–ª—è 2.

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**

```bash
cd "../02 Embeddings Data Retrieval"
python embeddings_retrieval.py
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π ChromaDB
- –°–æ–∑–¥–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –º–æ–¥—É–ª—è 2, –µ—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
cd "03 Vector Search Pitfalls"
python vector_search_pitfalls.py
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

1. **üóÑÔ∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ChromaDB**

   ```
   –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: knowledge_base_embeddings
   ```

2. **üîç –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É**

   ```
   –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: '–ü–æ–±–µ–¥–∏–ª –±—ã –ë—Ä—é—Å –õ–∏ –ú–∞–π–∫–∞ –¢–∞–π—Å–æ–Ω–∞?'
   ```

3. **üìê UMAP –ø—Ä–æ–µ–∫—Ü–∏—è**

   ```
   –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ UMAP –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏...
   ```

4. **üé® –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π**

   ```
   –°–æ–∑–¥–∞–Ω–∏–µ –∫—Ä–∞—Å–∏–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö embeddings...
   –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...
   ```

5. **üìà –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π**

   ```
   –†–ê–°–°–¢–û–Ø–ù–ò–Ø –ú–ï–ñ–î–£ –ó–ê–ü–†–û–°–û–ú –ò –î–û–ö–£–ú–ï–ù–¢–ê–ú–ò
   üìÑ –î–æ–∫—É–º–µ–Ω—Ç 0: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ = 0.8234 (‚ùÑÔ∏è –î–ê–õ–ï–ö–û)
   ```

6. **üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
   ```
   –ì—Ä–∞—Ñ–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ 'vector_search_visualization_all.png'
   –ì—Ä–∞—Ñ–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ 'vector_search_visualization_found.png'
   ```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```python
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CHROMA_DB_PATH = "../02 Embeddings Data Retrieval/chroma_db_embeddings"
COLLECTION_NAME = "knowledge_base_embeddings"

# UMAP –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
n_components = 2          # 2D –ø—Ä–æ–µ–∫—Ü–∏—è
random_state = 0          # –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å
transform_seed = 0        # –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

### –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: `all-MiniLM-L6-v2` (—Ç–∞ –∂–µ, —á—Ç–æ –≤ –º–æ–¥—É–ª–µ 2)

- **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å**: 384 –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **–ü—Ä–æ–µ–∫—Ü–∏—è**: 384D ‚Üí 2D —á–µ—Ä–µ–∑ UMAP
- **–ú–µ—Ç—Ä–∏–∫–∞**: –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

- üî¥ **–ö—Ä–∞—Å–Ω–∞—è –∑–≤–µ–∑–¥–∞**: –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîµ **–¢–µ–º–Ω–æ-—Å–∏–Ω–∏–µ —Ç–æ—á–∫–∏**: –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –±–∞–∑–µ
- üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–µ –∫—Ä—É–∂–∫–∏**: –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–†–∞–∑–º–µ—Ä –∫—Ä—É–∂–∫–æ–≤**: –û–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –¥–∞–Ω–Ω—ã–º

```python
def connect_to_chromadb():
    """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π ChromaDB"""
    # –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
    # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –º–æ–¥—É–ª—è 2, –µ—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞
```

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

```python
def get_all_embeddings(collection):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö embeddings –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏"""
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
    # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
```

### 3. –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑

```python
def search_and_visualize(collection, query: str, n_results: int = 5):
    """–ü–æ–∏—Å–∫ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
    # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–∞
    # –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
```

### 4. UMAP –ø—Ä–æ–µ–∫—Ü–∏—è

```python
# –ü–æ–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏
reducer = umap.UMAP(n_components=2, random_state=0, transform_seed=0)
embeddings_2d = reducer.fit_transform(embeddings_for_umap)
```

### 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

```python
def create_matplotlib_visualization(embeddings_2d, labels, distances=None, query_text="", visualization_type="all"):
    """–°–æ–∑–¥–∞–Ω–∏–µ –∫—Ä–∞—Å–∏–≤–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é matplotlib"""
    # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –ø–æ —Ç–∏–ø–∞–º
    # –°–æ–∑–¥–∞–Ω–∏–µ scatter plot —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ –ª–µ–≥–µ–Ω–¥—ã
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PNG —Ñ–∞–π–ª
```

## –¢–∏–ø—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π

### 1. –û–±—â–∏–π –æ–±–∑–æ—Ä (`visualization_all.png`)

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
- –ü–æ–∑–∏—Ü–∏—é –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –û–±—â–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

### 2. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (`visualization_found.png`)

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã + –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ
- –†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Å —Ç–æ—á–Ω—ã–º–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è–º–∏

**–¶–µ–ª—å:** –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞

## –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

### –ú–µ—Ç—Ä–∏–∫–∏ –±–ª–∏–∑–æ—Å—Ç–∏

```
üî• –û–ß–ï–ù–¨ –ë–õ–ò–ó–ö–û  - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ < 0.3
üëç –ë–õ–ò–ó–ö–û        - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ < 0.5
üëå –°–†–ï–î–ù–ï        - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ < 0.7
‚ùÑÔ∏è –î–ê–õ–ï–ö–û        - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ ‚â• 0.7
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –†–ê–°–°–¢–û–Ø–ù–ò–ô:
  üìä –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ: 0.4521
  üìà –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ: 0.8234
  ‚öñÔ∏è –°—Ä–µ–¥–Ω–µ–µ: 0.6234
  üìê –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: 0.1234
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**

```python
query = "–ö–∞–∫–æ–≤–∞ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –°–±–µ—Ä–±–∞–Ω–∫–∞ –≤ 2024 –≥–æ–¥—É?"
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ë–ª–∏–∑–∫–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (< 0.5)
```

**–ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**

```python
query = "–ü–æ–±–µ–¥–∏–ª –±—ã –ë—Ä—é—Å –õ–∏ –ú–∞–π–∫–∞ –¢–∞–π—Å–æ–Ω–∞?"
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –î–∞–ª–µ–∫–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (> 0.7)
```

**–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π:**

```python
query = "–ö–∞–∫–∏–µ –ø–ª–∞–Ω—ã —É –°–±–µ—Ä–∞ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –ò–ò?"
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –°—Ä–µ–¥–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (0.5-0.7)
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–•–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–æ–≤–∞–Ω—ã —Ä—è–¥–æ–º —Å –∑–∞–ø—Ä–æ—Å–æ–º
- –†–∞—Å—Å—Ç–æ—è–Ω–∏—è < 0.5
- –õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ 2D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–∞–ª–µ–∫–æ –æ—Ç –∑–∞–ø—Ä–æ—Å–∞
- –†–∞—Å—Å—Ç–æ—è–Ω–∏—è > 0.7
- –•–∞–æ—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

## –í—ã—è–≤–ª—è–µ–º—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–º—ã—Å–ª
**–ü—Ä–∏–º–µ—Ä:** –ó–∞–ø—Ä–æ—Å –æ —Å–ø–æ—Ä—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### 2. –î–æ–º–µ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–∏–º–µ—Ä:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ—Ç–æ—á–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** Fine-tuning –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

### 3. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ã—Å–æ–∫–∞—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –∏—Å–∫–∞–∂–∞–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
**–ü—Ä–∏–º–µ—Ä:** –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–∞–∂—É—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–∞–ª–µ–∫–∏–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

### 4. –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–æ—Ö–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
**–ü—Ä–∏–º–µ—Ä:** –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –≤ –æ–¥–Ω–æ–º —á–∞–Ω–∫–µ
**–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —á–∞–Ω–∫–∏–Ω–≥–∞

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ UMAP

```python
# –î–ª—è –ª—É—á—à–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
reducer = umap.UMAP(
    n_components=2,
    n_neighbors=15,      # –ë–æ–ª—å—à–µ —Å–æ—Å–µ–¥–µ–π = –±–æ–ª–µ–µ –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    min_dist=0.1,        # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
    metric='cosine'      # –ö–æ—Å–∏–Ω—É—Å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ (–∫–∞–∫ –≤ –ø–æ–∏—Å–∫–µ)
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

```python
# –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–æ—á–µ–∫
base_size = 50           # –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
query_size = 300         # –†–∞–∑–º–µ—Ä —Ç–æ—á–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
found_size_multiplier = 2 # –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤

```python
# –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
colors = {
    'query': 'red',
    'documents': 'darkblue',
    'found': 'orange',
    'background': 'white'
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –°–≤—è–∑—å —Å –º–æ–¥—É–ª–µ–º 2 (RAG Pipeline)

- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–æ—Ç–æ–≤—É—é ChromaDB** –∏–∑ –º–æ–¥—É–ª—è 2
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞** RAG —Å–∏—Å—Ç–µ–º—ã
- **–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

### –û—Å–Ω–æ–≤–∞ –¥–ª—è –º–æ–¥—É–ª—è 4 (Query Expansion)

- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **–ú–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å** —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É–ª—É—á—à–µ–Ω–∏–π

### –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –º–æ–¥—É–ª—é 1 (Semantic Search)

- **–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏** –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –º–æ–¥—É–ª—è
- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–∞–±–æ—Ç—É** —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- **–û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞** —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ –æ—Ü–µ–Ω–∫–∞

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**–•–æ—Ä–æ—à–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

- –ß–µ—Ç–∫–∏–µ –∫–ª–∞—Å—Ç–µ—Ä—ã –ø–æ —Ç–µ–º–∞–º
- –ó–∞–ø—Ä–æ—Å —Ä—è–¥–æ–º —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ 2D

**–ü—Ä–æ–±–ª–µ–º–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

- –•–∞–æ—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫
- –ó–∞–ø—Ä–æ—Å –¥–∞–ª–µ–∫–æ –æ—Ç –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**–†–∞—Å—Å—Ç–æ—è–Ω–∏—è:**

- –°—Ä–µ–¥–Ω–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**

- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å —Ç–æ—á–µ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö
- –†–∞–∑–º–µ—Ä –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**UMAP –ø—Ä–æ–µ–∫—Ü–∏—è:**

- –ü–æ—Ç–µ—Ä—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–Ω–∏–∂–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏
- –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (—Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

- 2D –ø—Ä–æ–µ–∫—Ü–∏—è –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É
- –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —Ç–æ—á–µ–∫ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏

**–ú–µ—Ç—Ä–∏–∫–∏:**

- –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- –í–ª–∏—è–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –Ω–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**

- –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—ã
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—ã–±—Ä–æ—Å—ã –∏ –∞–Ω–æ–º–∞–ª–∏–∏

**–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞:**

- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã UMAP
- –£–ª—É—á—à–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**

- –ü–æ–º–Ω–∏—Ç–µ –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö 2D –ø—Ä–æ–µ–∫—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
import plotly.express as px

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π 3D –≥—Ä–∞—Ñ–∏–∫
fig = px.scatter_3d(
    x=embeddings_3d[:, 0],
    y=embeddings_3d[:, 1],
    z=embeddings_3d[:, 2],
    color=labels,
    hover_data=['document_text']
)
```

**–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**

```python
# –ü–æ–∫–∞–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–∏—Å–∫–∞
def animate_search_process(query_embedding, document_embeddings):
    # –ü–æ—à–∞–≥–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
    # –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

**–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**

```python
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
def compare_embedding_models(queries, models):
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
    # –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–ª–∏—á–∏–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–∏—Å–∫–∞
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**

```python
from sklearn.cluster import KMeans

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
def analyze_clusters(embeddings_2d):
    kmeans = KMeans(n_clusters=5)
    clusters = kmeans.fit_predict(embeddings_2d)
    return clusters
```

**–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞:**

```python
# –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
def calculate_visualization_quality(embeddings_2d, true_labels):
    # Silhouette score
    # Trustworthiness
    # Continuity
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å "03 Vector Search Pitfalls" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–∑–∞–≥–ª—è–Ω—É—Ç—å –≤–Ω—É—Ç—Ä—å** –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–Ω—è—Ç—å –µ–≥–æ —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã.

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–æ–¥—É–ª—è:**

- ‚úÖ **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã—Å–æ–∫–æ–º–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –≤ –ø–æ–Ω—è—Ç–Ω–æ–º 2D —Ñ–æ—Ä–º–∞—Ç–µ
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞** —á–µ—Ä–µ–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- ‚úÖ **–í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º** —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- ‚úÖ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ RAG —Å–∏—Å—Ç–µ–º

**–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:**

- –î–µ–º–∏—Å—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è "—á–µ—Ä–Ω–æ–≥–æ —è—â–∏–∫–∞" –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π
- –ù–∞–≤—ã–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –û—Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –æ–± —É–ª—É—á—à–µ–Ω–∏—è—Ö

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º RAG-—Å–∏—Å—Ç–µ–º –Ω–µ —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –Ω–æ –∏ –ø–æ–Ω–∏–º–∞—Ç—å –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–∞–±–æ—Ç—É, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
